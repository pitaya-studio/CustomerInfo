var mail,contentList,contentList0;

//设置通讯录浮窗的高度为宽口高度
function resizeMail(){
    var wH;
    wH = $(window).height();
    mail.css('height',wH);
    var heightL = wH-90;
    contentList.css('height',heightL+"px");
    contentList0.css('height',heightL+"px");
}
//判断是否可点击(默认情况不可点击，当勾选门市信息和门市具体信息方可点击)
/*function  addEvent(){
 $(".content-list.simulate-top>dl>dd").each(function(){
 var type = $(this).attr("mailType");
 if(type == 0){
 $(this).css('cursor','default');
 }
 });
 }*/
//点击通讯录按钮，显示抽屉面板
function  showPanel(obj,url){
    var sysCtx = $("#sysCtx").val();
    $(obj).parent().hide();
    ajaxCall_async(sysCtx + "/agent/manager/getAddresslist?random="+Math.random(),'','mail');
    $("#mail").ready(function(){
        // alert(makePy("我们"));
        mail = $("#mail");
        contentList = $("#contentList");
        contentList0 = $("#contentList0");
        resizeMail();
        $(window).resize(resizeMail);
        //兼容滚动条样式ss
//		jsScroll(document.getElementById("contentList0"),'8');
        /*	addEvent();*/
        //点击门店展示详细信息
        var mailType = 0;//参数0：默认不勾选，1：勾选门市信息，2：勾选门市具体信息
        $(".content-list.simulate-top>dl>dd").click(function(){
            var target = getTarget();
            var targeti = $(this).children("i")[0];
            var targets = $(this).children("span")[0];
            if(target == this || target == targeti || target == targets){
                mailType = $(this).attr("mailType");
                if(mailType == 0){
                    return false;
                }else{
                    var flag = $(this).children(".mail-suspen").is(":hidden");
                    $(this).parent().parent().children("dl").children("dd").children(".mail-suspen").hide();
                    if(flag || flag == true){
                        var flagId =  $(this).children(".mail-suspen").attr('id');
                        ajaxCall_async(sysCtx + "/agent/manager/getContacts/"+flagId+"?random="+Math.random(),'',flagId);
                        $(this).children(".mail-suspen").show();
                        var headHeight = $(this).children(".mail-suspen").children(".mail-header").height();
                        $(this).children(".mail-suspen").children("div").last().css('height',260-headHeight);
                    }else{
                        $(this).children(".mail-suspen").hide();
                    }
                    var mainH = $(this).children(".mail-suspen").outerHeight();
                    var headerH = $(this).children(".mail-suspen").children(".mail-header").outerHeight();
                    var contentH = mainH - headerH - 5;
                    var cont = $(this).children(".mail-suspen").children(".suspen-container");
                    cont.outerHeight(contentH+"px");
                    // jsScroll(cont.get(0),'8');
                }
            }
        });

    });
    $("#mail").animate({"right":"0px"});
}

//按字母搜索定位
function  posToSel(obj){
    var winScrollTop = $(window).scrollTop();
    $("#contentList0").animate({
        scrollTop: 0
    },0);
    var text = $(obj).text();
    $(obj).parent().children("li").each(function(){
        $(this).css("color","#8c8c8c");
        $(this).css("border-bottom","none");
    });
    $(obj).css("color","#fff");
    $(obj).css("border-bottom","2px solid #fff");
    var dtList = $("#contentList0").children("dl").children("dt:visible");
    for(var i=0;i<dtList.length;i++){
        var FirstLetter = makePy($(dtList[i]).text()).toString().substring(0,1);
        if(text == FirstLetter.toUpperCase()){
            var topH = $(dtList[i]).offset().top-winScrollTop;
            $(dtList[i]).parent().parent().animate({
                scrollTop: topH-89
            },10);
            return false;
        }
    }
}

//点击关闭按钮，隐藏抽屉面板
function  hidePanel(){
    $("#mail").animate({"right":"-430px"});
    $("#mailId").parents().show();
}
//模糊搜索
function searhStore(obj){
    var text = obj.value;
    if(text != "" && text != null){
        var dtList = $("#contentList0").children("dl").children("dt");
        //模糊搜索总社
        for(var i=0;i<dtList.length;i++){
            var dtText = $(dtList[i]).text();
            if(dtText.indexOf(text) != -1){//包含搜索字段
                $(dtList[i]).show();
                $(dtList[i]).parent().children("dd").show();
                continue;
            }else{
                var ddList = $(dtList[i]).parent().children("dd");
                $(dtList[i]).hide();
                for(var j=0;j<ddList.length;j++){
                    var ddText = $(ddList[j]).children("span").text();
                    if(ddText.indexOf(text) != -1){
                        $(ddList[j]).show();
                        $(dtList[i]).show();
                    }else{
                        $(ddList[j]).hide();
                    }
                }
            }
        }
    }else{
        $("#contentList0").children("dl").children("dt").show();
        $("#contentList0").children("dl").children("dd").show();
    }
    $("#letter").children("li").css("color","#8c8c8c");
    $("#letter").children("li").css("border-bottom","none");

}
//获取汉字首字母
var strChineseFirstPY = "YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY";
var oMultiDiff={"19969":"DZ","19975":"WM","19988":"QJ","20048":"YL","20056":"SC","20060":"NM","20094":"QG","20127":"QJ","20167":"QC","20193":"YG","20250":"KH","20256":"ZC","20282":"SC","20285":"QJG","20291":"TD","20314":"YD","20340":"NE","20375":"TD","20389":"YJ","20391":"CZ","20415":"PB","20446":"YS","20447":"SQ","20504":"TC","20608":"KG","20854":"QJ","20857":"ZC","20911":"PF","20504":"TC","20608":"KG","20854":"QJ","20857":"ZC","20911":"PF","20985":"AW","21032":"PB","21048":"XQ","21049":"SC","21089":"YS","21119":"JC","21242":"SB","21273":"SC","21305":"YP","21306":"QO","21330":"ZC","21333":"SDC","21345":"QK","21378":"CA","21397":"SC","21414":"XS","21442":"SC","21477":"JG","21480":"TD","21484":"ZS","21494":"YX","21505":"YX","21512":"HG","21523":"XH","21537":"PB","21542":"PF","21549":"KH","21571":"E","21574":"DA","21588":"TD","21589":"O","21618":"ZC","21621":"KHA","21632":"ZJ","21654":"KG","21679":"LKG","21683":"KH","21710":"A","21719":"YH","21734":"WOE","21769":"A","21780":"WN","21804":"XH","21834":"A","21899":"ZD","21903":"RN","21908":"WO","21939":"ZC","21956":"SA","21964":"YA","21970":"TD","22003":"A","22031":"JG","22040":"XS","22060":"ZC","22066":"ZC","22079":"MH","22129":"XJ","22179":"XA","22237":"NJ","22244":"TD","22280":"JQ","22300":"YH","22313":"XW","22331":"YQ","22343":"YJ","22351":"PH","22395":"DC","22412":"TD","22484":"PB","22500":"PB","22534":"ZD","22549":"DH","22561":"PB","22612":"TD","22771":"KQ","22831":"HB","22841":"JG","22855":"QJ","22865":"XQ","23013":"ML","23081":"WM","23487":"SX","23558":"QJ","23561":"YW","23586":"YW","23614":"YW","23615":"SN","23631":"PB","23646":"ZS","23663":"ZT","23673":"YG","23762":"TD","23769":"ZS","23780":"QJ","23884":"QK","24055":"XH","24113":"DC","24162":"ZC","24191":"GA","24273":"QJ","24324":"NL","24377":"TD","24378":"QJ","24439":"PF","24554":"ZS","24683":"TD","24694":"WE","24733":"LK","24925":"TN","25094":"ZG","25100":"XQ","25103":"XH","25153":"PB","25170":"PB","25179":"KG","25203":"PB","25240":"ZS","25282":"FB","25303":"NA","25324":"KG","25341":"ZY","25373":"WZ","25375":"XJ","25384":"A","25457":"A","25528":"SD","25530":"SC","25552":"TD","25774":"ZC","25874":"ZC","26044":"YW","26080":"WM","26292":"PB","26333":"PB","26355":"ZY","26366":"CZ","26397":"ZC","26399":"QJ","26415":"ZS","26451":"SB","26526":"ZC","26552":"JG","26561":"TD","26588":"JG","26597":"CZ","26629":"ZS","26638":"YL","26646":"XQ","26653":"KG","26657":"XJ","26727":"HG","26894":"ZC","26937":"ZS","26946":"ZC","26999":"KJ","27099":"KJ","27449":"YQ","27481":"XS","27542":"ZS","27663":"ZS","27748":"TS","27784":"SC","27788":"ZD","27795":"TD","27812":"O","27850":"PB","27852":"MB","27895":"SL","27898":"PL","27973":"QJ","27981":"KH","27986":"HX","27994":"XJ","28044":"YC","28065":"WG","28177":"SM","28267":"QJ","28291":"KH","28337":"ZQ","28463":"TL","28548":"DC","28601":"TD","28689":"PB","28805":"JG","28820":"QG","28846":"PB","28952":"TD","28975":"ZC","29100":"A","29325":"QJ","29575":"SL","29602":"FB","30010":"TD","30044":"CX","30058":"PF","30091":"YSP","30111":"YN","30229":"XJ","30427":"SC","30465":"SX","30631":"YQ","30655":"QJ","30684":"QJG","30707":"SD","30729":"XH","30796":"LG","30917":"PB","31074":"NM","31085":"JZ","31109":"SC","31181":"ZC","31192":"MLB","31293":"JQ","31400":"YX","31584":"YJ","31896":"ZN","31909":"ZY","31995":"XJ","32321":"PF","32327":"ZY","32418":"HG","32420":"XQ","32421":"HG","32438":"LG","32473":"GJ","32488":"TD","32521":"QJ","32527":"PB","32562":"ZSQ","32564":"JZ","32735":"ZD","32793":"PB","33071":"PF","33098":"XL","33100":"YA","33152":"PB","33261":"CX","33324":"BP","33333":"TD","33406":"YA","33426":"WM","33432":"PB","33445":"JG","33486":"ZN","33493":"TS","33507":"QJ","33540":"QJ","33544":"ZC","33564":"XQ","33617":"YT","33632":"QJ","33636":"XH","33637":"YX","33694":"WG","33705":"PF","33728":"YW","33882":"SR","34067":"WM","34074":"YW","34121":"QJ","34255":"ZC","34259":"XL","34425":"JH","34430":"XH","34485":"KH","34503":"YS","34532":"HG","34552":"XS","34558":"YE","34593":"ZL","34660":"YQ","34892":"XH","34928":"SC","34999":"QJ","35048":"PB","35059":"SC","35098":"ZC","35203":"TQ","35265":"JX","35299":"JX","35782":"SZ","35828":"YS","35830":"E","35843":"TD","35895":"YG","35977":"MH","36158":"JG","36228":"QJ","36426":"XQ","36466":"DC","36710":"JC","36711":"ZYG","36767":"PB","36866":"SK","36951":"YW","37034":"YX","37063":"XH","37218":"ZC","37325":"ZC","38063":"PB","38079":"TD","38085":"QY","38107":"DC","38116":"TD","38123":"YD","38224":"HG","38241":"XTC","38271":"ZC","38415":"YE","38426":"KH","38461":"YD","38463":"AE","38466":"PB","38477":"XJ","38518":"YT","38551":"WK","38585":"ZC","38704":"XS","38739":"LJ","38761":"GJ","38808":"SQ","39048":"JG","39049":"XJ","39052":"HG","39076":"CZ","39271":"XT","39534":"TD","39552":"TD","39584":"PB","39647":"SB","39730":"LG","39748":"TPB","40109":"ZQ","40479":"ND","40516":"HG","40536":"HG","40583":"QJ","40765":"YQ","40784":"QJ","40840":"YK","40863":"QJG"};
//转字符串数组程序
function makePy(str){
    if(typeof(str) != "string"){
        throw new Error(-1,"函数makePy需要字符串类型参数!");
    }
    var arrResult = new Array();
    //将字符串转码后转为数组
    for(var i=0,len=str.length;i<len;i++){
        var ch = str.charAt(i);
        arrResult.push(checkCh(ch));
    }
    return mkRslt(arrResult);
}
function checkCh(ch){
    var uni = ch.charCodeAt(0);
    //如果不在汉字处理范围之内,返回原字符,也可以调用自己的处理函数
    if(uni > 40869 || uni < 19968){
        return ch; //dealWithOthers(ch);
    }
    //检查是否是多音字,是按多音字处理,不是就直接在strChineseFirstPY字符串中找对应的首字母
//    return (oMultiDiff[uni]?oMultiDiff[uni]:(strChineseFirstPY.charAt(uni-19968)));
    return strChineseFirstPY.charAt(uni-19968);
}
function mkRslt(arr){
    var arrRslt = [""];
    for(var i=0,len=arr.length;i<len;i++){
        var str = arr[i];
        var strlen = str.length;
        if(strlen == 1){
            for(var k=0;k<arrRslt.length;k++){
                arrRslt[k] += str;
            }
        }else{
            var tmpArr = arrRslt.slice(0);
            arrRslt = [];
            for(k=0;k<strlen;k++){
                //复制一个相同的arrRslt
                var tmp = tmpArr.slice(0);
                //把当前字符str[k]添加到每个元素末尾
                for(var j=0;j<tmp.length;j++){
                    tmp[j] += str.charAt(k);
                }
                //把复制并修改后的数组连接到arrRslt上
                arrRslt = arrRslt.concat(tmp);
            }
        }
    }
    return arrRslt;
}
//兼容各浏览器的event对象
function getTarget(){
    if(window.event)    {return window.event.srcElement;}
    func=getTarget.caller;
    while(func!=null){
        var arg0=func.arguments[0];
        if(arg0){
            if((arg0.constructor==Event || arg0.constructor ==MouseEvent
                || arg0.constructor==KeyboardEvent)
                ||(typeof(arg0)=="object" && arg0.preventDefault
                && arg0.stopPropagation)){
                return arg0.target;
            }
        }
        func=func.caller;
    }
    return null;
}


function ajaxCall_async(url,postdata,elementId,callback){

    http_request = false ;

    if(window.XMLHttpRequest){
        http_request = new XMLHttpRequest();
        if (http_request.overrideMimeType){
            http_request.overrideMimeType( 'text/xml' );
        }
    }else if (window.ActiveXObject){
        try {
            http_request = new ActiveXObject("Msxml2.XMLHTTP" );
        }
        catch (e){
            try {
                http_request = new ActiveXObject("Microsoft.XMLHTTP" );
            }
            catch (e){
            }
        }
    }

    if(!http_request){
        //  异常，创建对象实例失败
        window.alert( "不能创建XMLHttpRequest对象实例." );
        return false ;
    }

    http_request.onreadystatechange = function processRequest(){
        document.getElementById(elementId).innerHTML = "正在请求数据..." ;

        //  判断对象状态
        if (http_request.readyState == 4){
            //  信息已经成功返回，开始处理信息
            if (http_request.status == 200){
                try {
                    document.getElementById(elementId).innerHTML = http_request.responseText;
                    callback;
                }
                catch (e){
                    document.getElementById(elementId).innerHTML = "获取ajax url失败" ;
                }
            }
            //  页面不正常
            else {
                document.getElementById(elementId).innerHTML = "您所请求的页面有异常" ;
            }
        }
    };

    //  确定发送请求的方式和URL以及是否异步执行下段代码
    http_request.open( "GET" , encodeURI(url), false);
    http_request.send(postdata);

    return true ;
}







//团控面板 开始

$(function () {
    $("#scrollContent").niceScroll({
        cursorcolor: "#999999", // 改变滚动条颜色，使用16进制颜色值
        cursorwidth: "8px", // 滚动条的宽度，单位：便素
        cursorborder: "none", // CSS方式定义滚动条边框
        cursorborderradius: "5px", // 滚动条圆角（像素）zindex: "auto" | <number>, // 改变滚动条的DIV的z-index值
        iframeautoresize: true, // 在加载事件时自动重置iframe大小
        cursorminheight: 32, // 设置滚动条的最小高度 (像素)
        preservenativescrolling: true, // 你可以用鼠标滚动可滚动区域的滚动条和增加鼠标滚轮事件
        railoffset: false, // 可以使用top/left来修正位置
        spacebarenabled: true, // 当按下空格时使页面向下滚动
        sensitiverail: true, // 单击轨道产生滚动
        hidecursordelay: 1000, // 设置滚动条淡出的延迟时间（毫秒）
        cursordragspeed: 0.3, // 设置拖拽的速度
        preventmultitouchscrolling: true // 防止多触点事件引发滚动
    });
    $(window).resize(function () {
        resizeP();//当屏幕更改大小时，判定最后两条是否向上显示
    });
    $(window).resize(resizePanel);//屏幕更改大小时，重新计算下部分的高度

    $("#scrollContent").scroll(function () {

        //滚动条轨道的长度
        var scrollTrack = Number($("#ascrail2000").height());
        //滚动条的长度
        var scrollHeight = Number($("#ascrail2000").find("div").height());
        //滚动条距离顶部的Top值，先去除px的单位，转化为数值型
        var scrollTop = Number($("#ascrail2000").find("div").css('top').replace(/\D/g,""));
        //滚动条底部值：轨道长-滚动条长度-滚动条高度
        var scrollBottom = scrollTrack-scrollHeight-scrollTop;

        //滚动条距离底部的高度小于40
        if (scrollBottom<=50){
            loadingMore();
        }
    })
})

//点击团控按钮，显示面板
function  showControlPanel(obj){
    var ctxSS = $("#ctxSS").val()+"/activity/controlBoard/getSingleOpeRecordPage";
    $.ajax({
        type: "POST",
        url: sysCtx + "/activity/controlBoard/getGroupControlBoardList",
        cache: false,
        async: false,
        dataType: "json",//返回的数据类型
        success: function (data){
            //将传回的值打到页面上
            var html = outPutLi(data);
            $("#scrollContentUl").html(html);
        },
        error: function (){
        }
    });

    $(obj).parent().hide();//点击团控板，整个按钮消失
    resizePanel();//计算面板下部分的高度
    $(".team_control").show();//显示面板
    resizeP();//计算最后两条是否需要向上显示
    $(".team_control").animate({"right":"0px"});
}

function warningText(num) {
    switch (num){
        case 1:
            jBox.tip("余位为0，请先增加余位再收客。", 'warning');
            break;
        // case 2:
        //     jBox.tip("已收为0，无可退团游客。", 'warning');
        //     break;
        // case 3:
        //     jBox.tip("已收为0，无可转团游客。", 'warning');
        //     break;
    }
}

//点击X号关闭面板
function closePanel(obj) {
    $("#groupSearchInput").attr("value","");
    $(".panel_input_date").attr("value","");
    $(obj).parents(".team_control").animate({"right":"-430px"});
    // $(obj).parents(".team_control").hide();//点击团控板关闭按钮
    $(".panel_content").show();
}

//计算最后两条是否向上显示
function resizeP() {
    var li_num = $(".scroll_content_ul li").length;
    var wh = $(window).height();
    $(".scroll_content_ul li").find(".pop_handle_out").removeClass("up_show");
    for(var i=0; i< li_num ;i++){
        if(i > li_num-3){
            var dis = $(".scroll_content_ul li")[i];
            var compare = wh - dis.offsetTop;
            if(compare < 290){
                $(dis).find(".pop_handle_out").addClass("up_show");
            }
        }
    }
}

//点击清除搜索
function clearPanelSearch(){
    $("#groupSearchInput").attr("value","");
    $(".panel_input_date").attr("value","");
    // $("#groupSearchInput").attr("value","");
    searchProduct();
}

//选择列表里面-操作-收客，弹出对应的jbox，并进行ajax请求
function receiveGuest(groupid){//将该条数据的id传过来
    // alert();
    $.ajax({
        type: "POST",
        url: sysCtx + "/activity/controlBoard/groupControlBoardOpePage",
        cache: false,
        async: false,
        dataType: "json",//返回的数据类型
        data: {groupId:groupid},//传给后台的groupid
        success: function (data){

            var htmltop= htmlTop(data);//弹出的jbox上部分相同的团号、行程的信息

            //弹出的jbox左侧操作项中修改的输入格式
            var htmlchange ="<label>游客数量： </label>" +
                "<input type='text' onkeyup='maxNum($(this));' onblur='maxNum($(this));'><span     class='cue_panel'>123</span>" +
                "<label>备注： </label>" +
                "<textarea placeholder='最多可填30个字' onblur='maxInputLength($(this),30);' onpaste='maxInputLength($(this),30);' onkeyup='maxInputLength($(this),30);'>" +
                "</textarea><span class='cue_panel'></span>";

            var peershtml= peersHtml(data);//同行价的详细信息获取
            var guesthtml= guestHtml(data);//直客价的详细信息获取

            //jbox弹窗弹出，点击确认时进行判定
            $pop = $.jBox($("#insetJboxCont").html(), {
                title   : "团控操作 —— 收客",
                buttons:{"提交更新":'ok',"取消":'cancel'},
                submit: function (v, h, f) {
                    var $input = $(".change_input input");
                    var $textarea = $(".change_input textarea");
                    if(v=="ok"){
                        if($input.val()==""){
                            $input.next(".cue_panel").html("必填项");
                            $input.addClass("input_red_border");
                        }
                        if($input.val()>data.traAndGroupDetail.freePosition){
                            $input.next(".cue_panel").html("不能大于余位");
                            $input.addClass("input_red_border");
                        }
                        if($textarea.val()==""){
                            $textarea.next(".cue_panel").html("必填项");
                            $textarea.addClass("input_red_border");
                        }
                        if($(".change_input input,.change_input textarea").hasClass("input_red_border")){
                            $(".select_option").hide();
                            return false;
                        }else{
                            var receiveNum = $(".change_input input").val();
                            var receiveRemark = $(".change_input textarea").val();
                            $.ajax({
                                type: "POST",
                                url: sysCtx + "/activity/controlBoard/insertGroupControlBoard",
                                cache: false,
                                async: false,
                                dataType: "json",//返回的数据类型
                                data: {groupId:groupid,opeType:1,amount:receiveNum,remarks:receiveRemark},
                                success: function (data){
                                    if(data.result=="success"){
                                        searchProduct();
                                    }else{
                                        alert(data.message);
                                    }
                                },
                                error: function (){
                                    alert("修改数据失败");
                                }
                            });
                        }
                    }
                },
                width: 490,
                height:410,
                showScrolling:false,
                persistent: true,
                loaded:function(h){


                }
            });
            $pop.find(".name_title").html(data.traAndGroupDetail.acitivityName);
            $pop.find(".same_info").html(htmltop);
            $pop.find(".change_input").html(htmlchange);
            $pop.find(".peers_price").html(peershtml);
            $pop.find(".guest_price").html(guesthtml);
        },
        error: function (){
            alert();
        }
    });
    $("#jbox-content").css("overflow-y","hidden");
}

// //选择列表里面-操作-调整余位，弹出对应的jbox，并进行ajax请求
// function adjustRest(groupid){
//     $.ajax({
//         type: "POST",
//         url: sysCtx + "/activity/controlBoard/groupControlBoardOpePage",
//         cache: false,
//         async: false,
//         dataType: "json",//返回的数据类型
//         data: {groupId:groupid},
//         success: function (data){
//             var htmltop= htmlTop(data);//弹出的jbox上部分相同的团号、行程的信息
//
//             //弹出的jbox左侧操作项中修改的输入格式
//             var htmlchange ="<label>调整数量： </label> <div class='select_demo'> " +
//                 "<input type='text' placeholder='请选择' readonly='readonly' UNSELECTABLE='on'" +
//                 " id='sumOrsub' onblur='onlyNum($(\"#inNumFor\"),$(this));'" +
//                 " onchange='onlyNum($(\"#inNumFor\"),$(this));'>" +
//                 "<ul class='select_option'> " +
//                 "<li>增余位</li> " +
//                 "<li>减余位</li> " +
//                 "</ul> </div> " +
//                 "<input type='text' class='rate-input  move-right' id='inNumFor'" +
//                 " onkeyup='onlyNum($(this),$(\"#sumOrsub\"),"+data.traAndGroupDetail.freePosition+");' " +
//                 "onblur='onlyNum($(this),$(\"#sumOrsub\"),"+data.traAndGroupDetail.freePosition+");'>" +
//                 "<span class='cue_panel'></span>" +
//                 "<label>备注： </label>" +
//                 "<textarea placeholder='最多可填30个字'" +
//                 " onblur='maxInputLength($(this),30);' onkeyup='maxInputLength($(this),30);'>" +
//                 "</textarea><span class='cue_panel'></span>";
//             var peershtml= peersHtml(data);//同行价的详细信息获取
//             var guesthtml= guestHtml(data);//直客价的详细信息获取
//
//
//             $pop = $.jBox($("#insetJboxCont").html(), {
//                 title   : "团控操作 —— 调整余位",
//                 buttons:{"提交更新":'ok',"取消":'cancel'},
//                 submit: function (v, h, f) {
//
//                     var $input = $(".change_input input");
//                     var $textarea = $(".change_input textarea");
//                     if(v=="ok"){
//                         if($input.val()==""){
//                             $input.next(".cue_panel").html("必填项");
//                             $input.addClass("input_red_border");
//                         }
//                         if($textarea.val()==""){
//                             $textarea.next(".cue_panel").html("必填项");
//                             $textarea.addClass("input_red_border");
//                         }
//                         if($("#sumOrsub").val()=="减余位"){
//                             if($("#inNumFor").val()>data.traAndGroupDetail.freePosition){
//                                 $input.next(".cue_panel").html("不能大于余位");
//                                 $input.addClass("input_red_border");
//                             }
//                         }
//
//                         if($(".change_input input,.change_input textarea").hasClass("input_red_border")){
//                             $(".select_option").hide();
//                             return false;
//                         }else{
//
//                             var adjustNum = $("#inNumFor").val();
//                             var adjustRemark = $(".change_input textarea").val();
//                             var adjustType = ($("#sumOrsub").val()=="减余位") ? 2 :3;
//                             $.ajax({
//                                 type: "POST",
//                                 url: sysCtx + "/activity/controlBoard/insertGroupControlBoard",
//                                 cache: false,
//                                 async: false,
//                                 dataType: "json",//返回的数据类型
//                                 data: {groupId:groupid,opeType:adjustType,amount:adjustNum,remarks:adjustRemark},
//                                 success: function (data){
//                                     searchProduct();
//                                 },
//                                 error: function (){
//                                     alert("修改数据失败");
//                                 }
//                             });
//
//                         }
//                     }
//                 },
//                 width: 480,
//                 height:400,
//                 showScrolling:false,
//                 persistent: true,
//                 loaded:function(h){
//
//                 }
//             });
//             $pop.find(".name_title").html(data.traAndGroupDetail.acitivityName);
//             $pop.find(".same_info").html(htmltop);
//             $pop.find(".change_input").html(htmlchange);
//             $pop.find(".peers_price").html(peershtml);
//             $pop.find(".guest_price").html(guesthtml);
//
//             /*调整数量点击下拉*/
//             $pop.find(".select_demo input").click(function(event){
//                 $(this).parent().children("ul").toggle();
//             });
//             $pop.find(".select_option li").each(function(){
//                 $(this).click(function(){
//                     var value = $(this).text();
//                     $(this).parent().hide();
//                     $(this).parent().parent().children("input").val(value);
//                 });
//             });
//
//             $("#jbox-fade,.jbox-container").click(function(){
//                 var e = e || window.event;
//                 var target = e.target || e.srcElement;
//                 if( target.id != "sumOrsub" && target.parentNode.id != "inNumFor"){
//                     $(".select_demo").children("ul").hide();
//                 }
//             });
//         },
//         error: function (){
//         }
//     });
//
//     // $("#jbox-content").css("overflow-y","hidden");
// }
//
// //选择列表里面-操作-退团，弹出对应的jbox，并进行ajax请求
// function quitGroup(groupid){
//     $.ajax({
//         type: "POST",
//         url: sysCtx + "/activity/controlBoard/groupControlBoardOpePage",
//         cache: false,
//         async: false,
//         dataType: "json",//返回的数据类型
//         data: {groupId:groupid},
//         success: function (data){
//
//             var htmltop= htmlTop(data);//弹出的jbox上部分相同的团号、行程的信息
//
//             //弹出的jbox左侧操作项中修改的输入格式
//             var htmlchange ="<label>游客数量： </label>" +
//                 "<input type='text' onkeyup='maxNum($(this),25);' onblur='maxNum($(this),25);'><span     class='cue_panel'>123</span>" +
//                 "<label>备注： </label>" +
//                 "<textarea placeholder='最多可填30个字' onblur='maxInputLength($(this),30);' onpaste='maxInputLength($(this),30);' onkeyup='maxInputLength($(this),30);'>" +
//                 "</textarea><span class='cue_panel'></span>";
//
//             var peershtml= peersHtml(data);//同行价的详细信息获取
//             var guesthtml= guestHtml(data);//直客价的详细信息获取
//
//             $pop = $.jBox($("#insetJboxCont").html(), {
//                 title   : "团控操作 —— 退团",
//                 buttons:{"提交更新":'ok',"取消":'cancel'},
//                 submit: function (v, h, f) {
//                     var $input = $(".change_input input");
//                     var $textarea = $(".change_input textarea");
//                     if(v=="ok"){
//                         if($input.val()==""){
//                             $input.next(".cue_panel").html("必填项");
//                             $input.addClass("input_red_border");
//                         }
//                         if($input.val()>data.traAndGroupDetail.hasReceived){
//                             $input.next(".cue_panel").html("不能大于已收人数");
//                             $input.addClass("input_red_border");
//                         }
//
//                         if($textarea.val()==""){
//                             $textarea.next(".cue_panel").html("必填项");
//                             $textarea.addClass("input_red_border");
//                         }
//                         if($(".change_input input,.change_input textarea").hasClass("input_red_border")){
//                             $(".select_option").hide();
//                             return false;
//                         }else{
//                             var quitNum = $(".change_input input").val();
//                             var quitRemark = $(".change_input textarea").val();
//
//                             $.ajax({
//                                 type: "POST",
//                                 url: sysCtx + "/activity/controlBoard/insertGroupControlBoard",
//                                 cache: false,
//                                 async: false,
//                                 dataType: "json",//返回的数据类型
//                                 data: {groupId:groupid,opeType:4,amount:quitNum,remarks:quitRemark},
//                                 success: function (data){
//                                     searchProduct();
//                                 },
//                                 error: function (){
//                                     alert("修改数据失败");
//                                 }
//                             });
//                         }
//                     }
//                 },
//                 width: 480,
//                 height:400,
//                 showScrolling:false,
//                 persistent: true,
//                 loaded:function(h){
//
//                 }
//             });
//             $pop.find(".name_title").html(data.traAndGroupDetail.acitivityName);
//             $pop.find(".same_info").html(htmltop);
//             $pop.find(".change_input").html(htmlchange);
//             $pop.find(".peers_price").html(peershtml);
//             $pop.find(".guest_price").html(guesthtml);
//         },
//         error: function (){
//         }
//     });
//
//     // $("#jbox-content").css("overflow-y","hidden");
// }
//
// //选择列表里面-操作-转团，弹出对应的jbox，并进行ajax请求
// function changeGroup(groupid){
//     $.ajax({
//         type: "POST",
//         url: sysCtx + "/activity/controlBoard/groupControlBoardOpePage",
//         cache: false,
//         async: false,
//         dataType: "json",//返回的数据类型
//         data: {groupId:groupid,opeType:5},
//         success: function (data){
//
//             var htmltop= htmlTop(data);//弹出的jbox上部分相同的团号、行程的信息
//
//             //弹出的jbox左侧操作项中修改的输入格式
//             var htmlchange ="<label>游客数量： </label>" +
//                 "<input type='text' id='numTourist' onkeyup='maxNum($(this));' onblur='maxNum($(this));'>" +
//                 "<span class='cue_panel'>最大输入25</span> " +
//                 "<label class='has_span'>转入团号： <span id='searchHint'>可输入查找团号</span></label>" +
//                 "<select name='activityCreate' id='activityCreate'> "+
//                 "<option></option>";
//
//             for(var i = 0; i<data.groupCodeList.length;i++){
//                 htmlchange += "<option value="+data.groupCodeList[i].groupToId+" "+
//                     "free="+data.groupCodeList[i].freePosition+">"
//                     +data.groupCodeList[i].groupToCode+"</option> ";
//             }
//             htmlchange+= "</select>" +
//                 "<span class='cue_panel'>必填项</span>"+
//                 "<label>备注： </label>" +
//                 "<textarea placeholder='最多可填30个字' onblur='maxInputLength($(this),30);' onpaste='maxInputLength($(this),         30);' onkeyup='maxInputLength($(this),30);'>" +
//                 "</textarea><span class='cue_panel'>必填项</span>";
//             var peershtml= peersHtml(data);//同行价的详细信息获取
//             var guesthtml= guestHtml(data);//直客价的详细信息获取
//
//
//             $pop = $.jBox($("#insetJboxCont").html(), {
//                 title   : "团控操作 —— 转团",
//                 buttons:{"提交更新":'ok',"取消":'cancel'},
//                 submit: function (v, h, f) {
//
//                     var $numTourist = $("#numTourist");//转团人数，不能大于已收
//                     var $pullDownInput = $(".custom-combobox-input");//转入团号的输入框
//                     var $pullDown = $(".custom-combobox");//转入团号的下拉选择框
//                     var $textarea = $(".change_input textarea");//备注
//
//                     if(v=="ok"){
//                         if($numTourist.val()==""){
//                             $numTourist.next(".cue_panel").html("必填项");
//                             $numTourist.addClass("input_red_border");
//                         }
//                         if($numTourist.val()>data.traAndGroupDetail.hasReceived){
//                             $numTourist.next(".cue_panel").html("不能大于已收人数");
//                             $numTourist.addClass("input_red_border");
//                         }
//                         if($pullDownInput.val()==""){
//                             $pullDown.find("input").addClass("input_red_border");
//                             $pullDown.find("a").addClass("input_red_border");
//                             $pullDown.next(".cue_panel").css("visibility","visible");
//                         }else{
//                             var selectId = $("#activityCreate option:selected").attr("free");//获取到选中条数的id
//                             if($numTourist.val()>data.groupCodeList[selectId].freePosition){//比较填写的团的余位数
//                                 $pullDown.next(".cue_panel").html("该团余位不足");
//                                 $pullDown.find("input").addClass("input_red_border");
//                                 $pullDown.find("a").addClass("input_red_border");
//                                 $pullDown.next(".cue_panel").css("visibility","visible");
//                             }
//                         }
//                         if($textarea.val()==""){//判定备注是否进行填写
//                             $textarea.next(".cue_panel").html("必填项");
//                             $textarea.addClass("input_red_border");
//                         }
//                         if($(".change_input input,.change_input textarea").hasClass("input_red_border")){
//                             $(".select_option").hide();
//                             return false;
//                         }else{
//                             var changeNum = $(".change_input").children("input").val();
//                             // var changeGroupNum = $(".custom-combobox-input").val();
//                             var changeGroupId  = $("#activityCreate option:selected").val();
//                             var changeRemark = $(".change_input textarea").val();
//
//                             $.ajax({
//                                 type: "POST",
//                                 url: sysCtx + "/activity/controlBoard/insertGroupControlBoard",
//                                 cache: false,
//                                 async: false,
//                                 dataType: "json",//返回的数据类型
//                                 data: {groupId:groupid,groupIdTo:changeGroupId,
//                                     opeType:5,amount:changeNum,remarks:changeRemark},
//                                 success: function (data){
//                                     searchProduct();
//                                 },
//                                 error: function (){
//                                     alert("修改数据失败");
//                                 }
//                             });
//                         }
//                     }
//                 },
//                 width: 480,
//                 height:400,
//                 showScrolling:false,
//                 persistent: true,
//                 loaded:function(h){
//
//                 }
//             });
//             $pop.find(".name_title").html(data.traAndGroupDetail.acitivityName);
//             $pop.find(".same_info").html(htmltop);
//             $pop.find(".change_input").html(htmlchange);
//             $pop.find(".peers_price").html(peershtml);
//             $pop.find(".guest_price").html(guesthtml);
//
//
//             /*转入团号的事件*/
//             $pop.find("#activityCreate" ).comboboxInquiry();//点击生成div层
//
//             $pop.find(".custom-combobox-input" ).attr("id","comboboxInput");
//             $pop.find("#searchHint" ).click(function () {//点击将上面提示的文字隐藏，并选中后面的input
//                 document.getElementById('comboboxInput').focus();
//             });
//
//             var $input = $pop.find(".custom-combobox-input");
//             $input.on("focus", function () {//获得焦点时提示文字隐藏
//                 $pop.find("#searchHint").hide();
//             }).on("blur", function () {
//                 if ($input.val() == "") {//失去焦点时input为空则提示文字出现
//                     $pop.find("#searchHint").show();
//                 }
//             });
//
//
//             //转入团号的必填项的提示判定，选中时提示消失，未选中时，如果没有输入内容则提示必填
//             var $redBorder = $pop.find(".custom-combobox input,.custom-combobox a");//选择转入团号的边框
//             var $hintText = $pop.find(".custom-combobox").next(".cue_panel");//选择转入团号下面的span
//             $input.keyup(function () {
//                 if($(this).val()==""){
//                     $redBorder.addClass("input_red_border");
//                     $hintText.css("visibility","visible").html("必填项");
//                 }else {
//                     $redBorder.removeClass("input_red_border");
//                     $hintText.css("visibility","hidden");
//                 }
//             })
//             $input.blur(function () {
//                 if($(this).val()==""){
//                     $redBorder.addClass("input_red_border");
//                     $hintText.css("visibility","visible").html("必填项");
//                 }else {
//                     $redBorder.removeClass("input_red_border");
//                     $hintText.css("visibility","hidden");
//                 }
//             })
//             //判定如果选中了ul里面li的a标签，则将必填项的提示取消
//             $("body").click(function(){
//                 var e = e || window.event;
//                 var target = e.target || e.srcElement;
//                 if(target.parentNode.parentNode.id == "ui-id-1"){
//                     $redBorder.removeClass("input_red_border");
//                     $hintText.css("visibility","hidden");
//                 }
//             });
//         },
//         error: function (){
//         }
//     });
//
//     // $("#jbox-content").css("overflow-y","hidden");
// }

//转团、退团、收客、调整的jbox中，顶部相同的部分
function htmlTop(data) {
    return "<span class='wide_info'>团号 ："+data.traAndGroupDetail.groupCode+"</span> " +
        "<span>出团日期 ："+data.traAndGroupDetail.groupOpenDate+"</span> " +
        "<span class='wide_info'>出发城市 ："+data.traAndGroupDetail.fromArea+"</span> " +
        "<span>行程时间 ："+data.traAndGroupDetail.activityDuration+"天</span>";
}

//转团、退团、收客、调整的jbox中，同行价相同的部分
function peersHtml(data) {

    return "<label>成人： </label><span>"
        + data.traAndGroupDetail.settlementAdultPriceCurrency
        + data.traAndGroupDetail.settlementAdultPrice+"</span>"+
        "<label>儿童： </label><span>"
        + data.traAndGroupDetail.settlementcChildPriceCurrency
        + data.traAndGroupDetail.settlementcChildPrice+"</span>"+
        "<label>特殊人群： </label><span>"
        + data.traAndGroupDetail.settlementSpecialPriceCurrency+
        data.traAndGroupDetail.settlementSpecialPrice+"</span>";
}

//转团、退团、收客、调整的jbox中，直客价相同的部分
function guestHtml(data) {
    return "<label>成人： </label><span>"
        + data.traAndGroupDetail.suggestAdultPriceCurrency
        + data.traAndGroupDetail.suggestAdultPrice+"</span>"+
        "<label>儿童： </label><span>"
        + data.traAndGroupDetail.suggestChildPriceCurrency
        + data.traAndGroupDetail.suggestChildPrice+"</span>"+
        "<label>特殊人群： </label><span>"
        + data.traAndGroupDetail.suggestSpecialPriceCurrency
        + data.traAndGroupDetail.suggestSpecialPrice +"</span>";
}

//输入数字的最大值，多了删去，没写的话提示必填
function maxNum(content) {
    var $input = content.val();
    // content
    var testString = new RegExp("^[0-9]*[1-9][0-9]*$");
    //首先判定输入的是不是数字，不是则清空
    var result = $input.match (testString);
    if (result) {
        content.removeClass("input_red_border");
    }else {
        content.attr("value",$input.replace(/\D/g,''));
    }
    if($input=="") {
        content.next(".cue_panel").html("必填项");
        content.addClass("input_red_border");
    }
}

//输入字符的最大长度，多了删去，没写的话提示必填
function maxInputLength(content,maxNum) {
    //得到输入的字符的长度
    var NowNum = content.val().length;
    //判断输入的长度是否超过规定的长度
    if(NowNum>maxNum)
    {
        //如果超过就截取规定长度的内容
        content[0].value = content[0].value.substring(0,maxNum);
    }
    else if(NowNum=="") {
        content.next(".cue_panel").html("必填项");
        content.addClass("input_red_border");
    }else {
        content.removeClass("input_red_border");
    }
}

// //调整数量的代码，功能，只输入数字，进行简单地校验功能
// function onlyNum(content,select) {
//     var val = content.val().replace(/\D/g,'');
//     content[0].value = val;
//     if(content[0].value == ""){
//         content.addClass("input_red_border");
//         content.next(".cue_panel").html("必填项");
//         select.addClass("input_red_border");
//     }else{
//         content.removeClass("input_red_border");
//         content.next(".cue_panel").html("");
//         select.removeClass("input_red_border");
//     }
// }

function resizePanel(){
    var wH;
    wH = $(window).height();
    var heightL = wH-130;
    $("#scrollContent").css('height',heightL+"px");
}

// onblur="searchProduct(,,);"
function searchProduct(){
    var nameOrCode = $('#groupSearchInput').val();
    var groupOpenDateFrom = $('#panelTimeBegin').val();
    var groupOpenDateTo = $('#panelTimeEnd').val();
    var ctxSS = $("#ctxSS").val()+"/activity/controlBoard/getSingleOpeRecordPage";
    $.ajax({
        type: "POST",
        url: sysCtx + "/activity/controlBoard/getGroupControlBoardList",
        cache: false,
        async: false,
        dataType: "json",//返回的数据类型
        data: {nameOrCode:nameOrCode,groupOpenDateFrom:groupOpenDateFrom,
            groupOpenDateTo:groupOpenDateTo},
        success: function (data){
            //将传回的值打到页面上
            var html = outPutLi(data);
            $("#scrollContentUl").html(html);
        },
        error: function (){
        }
    });

}
var pagenumber = 0;
function loadingMore() {
    var nameOrCode = $('#groupSearchInput').val();
    var groupOpenDateFrom = $('#panelTimeBegin').val();
    var groupOpenDateTo = $('#panelTimeEnd').val();
   
    if(pagenumber != (Math.ceil($("#scrollContentUl li").length/15)+1)){
    	pagenumber = Math.ceil($("#scrollContentUl li").length/15)+1;//获取到页码
    	$.ajax({
            type: "POST",
            url: sysCtx + "/activity/controlBoard/getGroupControlBoardList",
            cache: false,
            async: false,
            dataType: "json",//返回的数据类型
            data: {nameOrCode:nameOrCode,groupOpenDateFrom:groupOpenDateFrom,
                groupOpenDateTo:groupOpenDateTo,pageNo:pagenumber},
            success: function (data){
                var html = outPutLi(data);
                $("#scrollContentUl").append(html);
                resizeP();//当屏幕更改大小时，判定最后两条是否向上显示
            },
            error: function (){
            }
        });
    }
    
    
    
    
//    console.log($("#scrollContentUl li").length);
//    console.log(pagenumber);
//    $.ajax({
//        type: "POST",
//        url: sysCtx + "/activity/controlBoard/getGroupControlBoardList",
//        cache: false,
//        async: false,
//        dataType: "json",//返回的数据类型
//        data: {nameOrCode:nameOrCode,groupOpenDateFrom:groupOpenDateFrom,
//            groupOpenDateTo:groupOpenDateTo,pageNo:pagenumber},
//        success: function (data){
//            var html = outPutLi(data);
//            $("#scrollContentUl").append(html);
//            resizeP();//当屏幕更改大小时，判定最后两条是否向上显示
//        },
//        error: function (){
//        }
//    });
}

//团控面板内容打出
function outPutLi(data) {
    var ctxSS = $("#ctxSS").val()+"/activity/controlBoard/getSingleOpeRecordPage";
    var _shiroUse=$("#shiroUse").val();
    //将传回的值打到页面上
    var html = "";
    for(var i = 0;i<data.length;i++){
        html += "<li ><span class='cont_title' title="+data[i].acitivityName+">"+
            data[i].acitivityName+"</span> " +
            "<label>团号 ：</label><span class='group_num'>"+data[i].groupCode+"</span><br> " +
            "<span class='fir_title'>" +
            "<label>出团日期 ：</label><span>"+data[i].groupOpenDate+"</span></span> " +
            "<span class='sec_title recei_money'>" +
            "<span class='already_recei'>"+ data[i].hasReceptAmount +
            "</span> / "+data[i].planPosition+"</span>"+
            "<span class='thir_title'>";
        if( data[i].freePosition == 0) {
        	html += "已售罄</span>";
        }else{
        	html += "<span class='rest_seat green_font_show'>" + data[i].freePosition + "</span></span>";
        }
        html +="<span class='four_title'><i class='fa fa-cog'></i> " +
            "<div class='pop_handle_out'> <em></em> " +
            "<div class='pop_handle'> ";
        //对余位进行判定，如果为0，则提示不可收客，并将收客样式置灰
        if(_shiroUse == 1 ){
        if(data[i].freePosition=="0"){
            html += "<a class='noHover' onclick='warningText(1)'>收客</a> ";
        }else {
            html += "<a onclick='receiveGuest("+data[i].groupId+")'>收客</a> ";
        }
        }
        // html += "<a onclick='adjustRest("+data[i].groupId+")'>调整余位</a> ";
        // //对已收进行判定，如果为0，则提示不可转团、退团，并将转团、退团样式置灰
        //     if(data[i].hasReceptAmount=="0"){
        //         html += "<a class='noHover' onclick='warningText(2)'>退团</a>"+
        //         "<a href='javascript:void(0)' class='noHover' onclick='warningText(3)'>转团</a> ";
        //     }else {
        //         html +="<a href='javascript:void(0)' onclick='quitGroup("+data[i].groupId+")'>退团</a> " +
        //         "<a href='javascript:void(0)' onclick='changeGroup("+data[i].groupId+")'>转团</a> ";
        //     }
        html += "<a href="+ctxSS+"?groupId=" + data[i].groupId + " target='_blank'>操作记录</a> " +
            "</div> </div> </span><br> </li>";
    }
    return html;
}

//团控面板 结束
